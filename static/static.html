<!DOCTYPE html><html lang="en">    
    
<head>      
  <meta charset="UTF-8" />      
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />      
  <title>Pa'O Citizenship ID Lookup</title>  <!-- ================================================      
     üîß CONFIGURATION ‚Äì update the 2 constants below      
     1. SHEETDB_URL  ‚Äì SheetDB REST endpoint      
     2. AUTH_TOKEN   ‚Äì Bearer token if protected (else "")      
  ==================================================== -->  <script>      
    const SHEETDB_URL = "https://sheetdb.io/api/v1/unuwgl15jxmdf"; // ‚Üê REPLACE      
    const AUTH_TOKEN  = "";                                         // ‚Üê REPLACE      
  </script>  <!-- Minimal inline styles (switch to Tailwind CDN if preferred) -->  <style>      
    :root {      
      --brand: #047857;      
      --brand-alt: #059669;      
      --bg: #f3f4f6;      
      --card: #ffffff;      
      --text: #111827;      
      --muted: #6b7280;      
      --danger: #b91c1c;      
    }      
    * { box-sizing: border-box; }      
    body {      
      margin: 0; font-family: Arial, sans-serif; background: var(--bg); padding: 2rem; color: var(--text);      
    }      
    .container {      
      max-width: 600px; margin: 0 auto; background: var(--card); padding: 2rem; border-radius: 16px; box-shadow: 0 10px 22px rgba(0,0,0,0.06);      
    }      
    h1 { margin-top: 0; text-align: center; color: var(--brand); font-size: 1.55rem; }      
    input, button { width: 100%; padding: 0.85rem 1rem; font-size: 1rem; border-radius: 10px; }      
    input { border: 1px solid #d1d5db; margin-bottom: 1rem; }      
    button { border: none; background: var(--brand); color: #fff; cursor: pointer; transition: background 0.2s; }      
    button:hover { background: var(--brand-alt); }      
    .note { color: var(--muted); font-size: 0.9rem; margin-top: 0.25rem; text-align:center; }      
    svg { width: 100%; height: auto; margin-top: 1.5rem; }      
    .error { color: var(--danger); margin-top:1.25rem; text-align:center; }      
  </style></head>      
<body>      
  <div class="container">      
    <h1>üîç Pa'O Citizen ID Card</h1><input id="keyword" type="text" placeholder="Enter ID number or Name" autocomplete="off" />      
<button id="btn-search">Search</button>      
<p class="note">·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äñ·ÄØ·Ä∂·Çè·Äö·Ä≠·ÄØ·Äî·Äù·Ä∫Í©ª RYPAK ·ÄÄ·Ä±·Ä¨·Ä∏·Äñ·Äî·Ä∫·Ä∏·Äñ·Äº·Äö·Ä∫·Äû·Ä¨·Ä∏ ·ÄÖ·Ä≤·ÄÖ·Ä∫·Äë·ÄΩ·Ä¨·Ä∏·Äî·ÄΩ·Ä±·Ä¨·ÄÑ·Ä∫Í©ª·Äí·Äª·Ä¨·Çè·Äû·ÄΩ·Ä∞</p>  <div id="card-wrap"></div>    </div>  <script>      
    /* ==================================================== */      
    /*  Helper functions                                    */      
    /* ==================================================== */  /** Determine status badge (verified / expired / unverified) */      
function statusBadge(c) {      
  const today = new Date();      
  const expDate = c.expires ? new Date(c.expires) : null;      
  const isExpired = expDate && !isNaN(expDate) && today > expDate;      
  if (isExpired) return { label: "‚ùå Expired", color: "var(--danger)" };      
  const ok = c.verified === true || /^(true|yes|1)$/i.test(String(c.verified));      
  return ok ? { label: "‚úÖ Verified Citizen", color: "var(--brand-alt)" } : { label: "‚ùå Not Verified", color: "var(--danger)" };      
}      
    
/** Render SVG ID card */      
function renderCard(c) {      
  const badge = statusBadge(c); 
  const qrData = `{
"·Ä°·ÄØ·Ä≤·ÄÑ·Ä∫·Äí·ÄÆ" : "${c.id}",
"·Äô·Äâ·Ä∫Í©ª" : "${c.name}",
"·Äú·Ä±·ÄÑ·Ä∫" : "${c.gender}",
"·Ä°·ÄØ·Ä∂·Ä°·Äù·Ä∫·Çè·Äú·Ä≠·Äê·Ä∫·Äë·Ä∞": "${c.address} || "N/A",
  "·Äí·ÄÑ·Ä∫·Çè·ÄÅ·Ä´Í©ª·Äï·ÄΩ·ÄØ·Ä∂·Çè·Äô·ÄØ·Ä≤·ÄÑ·Ä∫·Äî·Ä∂·Äï·Äê·Ä∫": "${c.nrc} || "N/A",
  "·ÄÅ·ÄΩ·ÄØ·Äô·Ä∫·ÄÖ·Ä∂·Çè·Äë·Ä¨Í©ª·Äô·Ä¨Í©ª": "${c.position} || "N/A",
  "·Äû·ÄΩ·ÄØ·Äï·Ä∫·Äë·Ä±·Ä∑·Äê·Ä¨·Çè": "${c.contact} || "N/A",
"·Äû·ÄÄ·Ä∫·Äê·Äî·Ä∫Í©ª·Äú·Ä≠·ÄØ·Ä∑·Äî·ÄÆÍ©ª" : "${c.expires}"
}`;
const qrApi = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(qrText)}`;
  const qrApi = `https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=${encodeURIComponent(qrData)}`;

    
  return `      
    <svg viewBox=\"0 0 420 400\" xmlns=\"http://www.w3.org/2000/svg\" style=\"border:1.5px solid #e5e7eb;border-radius:14px;\">      
      <defs>      
        <linearGradient id=\"g\" x1=\"0\" x2=\"1\" y1=\"0\" y2=\"1\">      
          <stop offset=\"0%\" stop-color=\"var(--brand)\" />      
          <stop offset=\"100%\" stop-color=\"var(--brand-alt)\" />      
        </linearGradient>      
        <clipPath id=\"clipQR\"><rect x=\"300\" y=\"200\" width=\"100\" height=\"100\" rx=\"6\"/></clipPath>      
      </defs>      
    
      <!-- background & header -->      
      <rect width=\"420\" height=\"400\" fill=\"#ffffff\" rx=\"20\"/>      
      <rect x=\"0\" y=\"0\" width=\"420\" height=\"50\" fill=\"url(#g)\"/>      
      <text x=\"210\" y=\"32\" fill=\"#fff\" font-size=\"18\" font-family=\"Arial\" font-weight=\"bold\" text-anchor=\"middle\">Pa'O National ID Card</text>      
    
      <!-- QR code (dynamic verifier) -->      
      <image href=\"${qrApi}\" x=\"300\" y=\"200\" width=\"100\" height=\"100\" clip-path=\"url(#clipQR)\" />      
    
      <!-- citizen data -->      
      <g font-family=\"Arial\" fill=\"#111827\" font-size=\"16\">      
        <text x=\"30\" y=\"90\">ID : ${c.id}</text>      
        <text x=\"30\" y=\"120\">Name : ${c.name}</text>      
        <text x=\"30\" y=\"150\">DOB : ${c.dob}</text>      
        <text x=\"30\" y=\"180\">Gender : ${c.gender}</text>      
        <text x=\"30\" y=\"210\">Ethnicity : ${c.ethnicity}</text>  
        <text x=\"30\" y=\"240\">·Ä°·ÄØ·Ä∂·Ä°·Äù·Ä∫·Çè : ${c.address}</text>
        <text x=\"30\" y=\"270\">·Äí·ÄÑ·Ä∫·Çè·Äï·ÄΩ·ÄØ·Ä∂·Çè·Äô·ÄØ·Ä≤·ÄÑ·Ä∫·Äî·Ä∂·Äï·Äê·Ä∫ : ${c.nrc}</text> 
        <text x=\"30\" y=\"300\">·ÄÅ·ÄΩ·ÄØ·Äô·Ä∫·ÄÖ·Ä∂·Çè·Äë·Ä¨Í©ª·Äô·Ä¨Í©ª : ${c.position}</text> 
        <text x=\"30\" y=\"330\">·Äû·ÄΩ·ÄØ·Äï·Ä∫·Äë·Ä±·Ä∑·Äê·Ä¨·Çè : ${c.contact}</text>  
        <text x=\"30\" y=\"360\">District : ${c.district}</text>      
        <text x=\"30\" y=\"390\">Issued  : ${c.issued || "‚Äì"}</text>      
        <text x=\"30\" y=\"420\">Expires : ${c.expires || "‚Äì"}</text>      
      </g>      
    
      <!-- status badge -->      
      <text x=\"30\" y=\"345\" font-size=\"16\" font-family=\"Arial\" fill=\"${badge.color}\">${badge.label}</text>      
    </svg>`;      
}      
    
/* ==================================================== */      
/*  Data loading                                        */      
/* ==================================================== */      
let citizens = [];      
    
async function loadData() {      
  try {      
    const res = await fetch(SHEETDB_URL, {      
      headers: AUTH_TOKEN ? { 'Authorization': `Bearer ${AUTH_TOKEN}` } : {}      
    });      
    if (!res.ok) throw new Error(`HTTP ${res.status}`);      
    citizens = await res.json();      
    console.log(`[Citizen DB] loaded ${citizens.length} records`);      
  } catch (err) {      
    console.error(err);      
    document.getElementById('card-wrap').innerHTML = `<p class="error">‚ö†Ô∏è Unable to load citizen information.</p>`;      
  }      
}      
    
/* ==================================================== */      
/*  Search handler                                      */      
/* ==================================================== */      
function performSearch() {      
  const kw = document.getElementById('keyword').value.trim().toLowerCase();      
  const out = document.getElementById('card-wrap');      
  if (!kw) { out.innerHTML = '<p class="note">Type an ID or name to search.</p>'; return; }      
    
  const match = citizens.find(c => {      
    const idMatch = (c.id || '').toLowerCase() === kw;      
    const nameMatch = (c.name || '').toLowerCase().includes(kw);      
    return idMatch || nameMatch;      
  });      
    
  out.innerHTML = match ? renderCard(match) : '<p class="error">‚ùå No matching citizen found.</p>';      
}      
    
/* ==================================================== */      
/*  Event bindings                                      */      
/* ==================================================== */      
document.getElementById('btn-search').addEventListener('click', performSearch);      
document.getElementById('keyword').addEventListener('keypress', e => { if (e.key === 'Enter') performSearch(); });      
    
/* boot */      
loadData();    
    
</script></body>    
    
</html>
